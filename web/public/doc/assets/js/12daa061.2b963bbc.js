"use strict";(self.webpackChunkbluearc_tiger_docs=self.webpackChunkbluearc_tiger_docs||[]).push([[195],{2485(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>o});const c=JSON.parse('{"id":"legacy/circuit-signal-schema","title":"2. Exact Public/Private Signal Schema","description":"This schema is the canonical V1 signal contract between prover and verifier.","source":"@site/docs/legacy/02-circuit-signal-schema.md","sourceDirName":"legacy","slug":"/legacy/circuit-signal-schema","permalink":"/doc/docs/legacy/circuit-signal-schema","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"1. Contract Interfaces and Storage Layout","permalink":"/doc/docs/legacy/contract-interfaces-storage"},"next":{"title":"3. Relayer API with PQ-Hybrid Handshake","permalink":"/doc/docs/legacy/relayer-api"}}');var s=i(4848),l=i(8453);const r={},t="2. Exact Public/Private Signal Schema",d={},o=[{value:"Public Signals (<code>length = 7</code>)",id:"public-signals-length--7",level:2},{value:"Private Witness Signals",id:"private-witness-signals",level:2},{value:"Constraints (conceptual)",id:"constraints-conceptual",level:2},{value:"Canonical JSON",id:"canonical-json",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"2-exact-publicprivate-signal-schema",children:"2. Exact Public/Private Signal Schema"})}),"\n",(0,s.jsx)(n.p,{children:"This schema is the canonical V1 signal contract between prover and verifier."}),"\n",(0,s.jsxs)(n.h2,{id:"public-signals-length--7",children:["Public Signals (",(0,s.jsx)(n.code,{children:"length = 7"}),")"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"root"})," (",(0,s.jsx)(n.code,{children:"bytes32"})," -> ",(0,s.jsx)(n.code,{children:"uint256"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"nullifierHash"})," (",(0,s.jsx)(n.code,{children:"bytes32"})," -> ",(0,s.jsx)(n.code,{children:"uint256"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"recipient"})," (",(0,s.jsx)(n.code,{children:"address"})," -> ",(0,s.jsx)(n.code,{children:"uint160"})," -> ",(0,s.jsx)(n.code,{children:"uint256"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"relayer"})," (",(0,s.jsx)(n.code,{children:"address"})," -> ",(0,s.jsx)(n.code,{children:"uint160"})," -> ",(0,s.jsx)(n.code,{children:"uint256"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fee"})," (",(0,s.jsx)(n.code,{children:"uint256"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"refund"})," (",(0,s.jsx)(n.code,{children:"uint256"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"chainId"})," (",(0,s.jsx)(n.code,{children:"uint256"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"private-witness-signals",children:"Private Witness Signals"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"noteSecret"})," (",(0,s.jsx)(n.code,{children:"bytes32"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"noteRandom"})," (",(0,s.jsx)(n.code,{children:"bytes32"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pathElements[depth]"})," (",(0,s.jsx)(n.code,{children:"bytes32[]"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pathIndices[depth]"})," (",(0,s.jsx)(n.code,{children:"bool[]"})," or ",(0,s.jsx)(n.code,{children:"uint8[]"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"constraints-conceptual",children:"Constraints (conceptual)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"nullifierHash == H(domain_nullifier || noteSecret)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"commitment == H(domain_commitment || noteSecret || noteRandom)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"MerkleVerify(commitment, pathElements, pathIndices) == root"})}),"\n",(0,s.jsx)(n.li,{children:"public inputs are bound into proof transcript"}),"\n",(0,s.jsxs)(n.li,{children:["chain domain separation includes ",(0,s.jsx)(n.code,{children:"chainId"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"canonical-json",children:"Canonical JSON"}),"\n",(0,s.jsxs)(n.p,{children:["See: ",(0,s.jsx)(n.code,{children:"docs/02-circuit-signals.json"})]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>r,x:()=>t});var c=i(6540);const s={},l=c.createContext(s);function r(e){const n=c.useContext(l);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),c.createElement(l.Provider,{value:n},e.children)}}}]);